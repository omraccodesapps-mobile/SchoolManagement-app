{
  "$schema": "https://railway.com/railway.schema.json",
  "build": {
    "builder": "dockerfile",
    "dockerfilePath": "Dockerfile"
  },
  "deploy": {
    "runtime": "V2",
    "numReplicas": 1,
    "startCommand": "/start.sh",
    "restartPolicy": "on_failure",
    "healthcheckPath": "/health",
    "healthcheckTimeout": 100,
    "sleepApplication": false
  },
  "variables": {
    "APP_ENV": {
      "description": "Symfony environment - MUST be 'prod' for production",
      "value": "prod"
    },
    "APP_DEBUG": {
      "description": "Enable Symfony debugging - MUST be '0' in production",
      "value": "0"
    },
    "APP_SECRET": {
      "description": "Symfony application secret - generate a random 32+ character string in Railway variables",
      "showValue": false
    },
    "DATABASE_URL": {
      "description": "SQLite database location for Railway production",
      "value": "sqlite:///%kernel.project_dir%/var/data/school_management_prod.db"
    },
    "DEFAULT_URI": {
      "description": "Default URI for CLI commands",
      "value": "https://school-management-production-1378.up.railway.app"
    }
  }
}